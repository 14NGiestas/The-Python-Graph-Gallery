{"version":3,"sources":["webpack:///./src/pages/3d.js","webpack:///./src/components/ChartImageContainer.js","webpack:///./src/components/ChartImage.js","webpack:///./static/graph/animated_volcano.gif"],"names":["ThreeD","title","isTocEnabled","seoDescription","description","id","className","md","to","imgName","caption","size","style","maxWidth","margin","href","linkTo","src","volcanoGif","alt","width","chartFamily","ChartImageContainer","xs","allGifs","ChartImage","includes","image","useStaticQuery","allFile","edges","find","n","node","name","fluid","childImageSharp","module","exports"],"mappings":"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","file":"component---src-pages-3-d-js-05d6571348e4d9f4db99.js","sourcesContent":["import React from \"react\";\nimport TitleAndDescription from \"../components/TitleAndDescription\";\nimport Layout from \"../components/Layout\";\nimport Container from \"react-bootstrap/Container\";\nimport Contact from \"../components/Contact\";\nimport Row from \"react-bootstrap/Row\";\nimport ChartFamilySection from \"../components/ChartFamilySection\";\nimport { Link } from \"gatsby\";\nimport { Matplotlib } from \"../components/MiscellaneousLogos\"\nimport { Button, Col } from \"react-bootstrap\";\nimport CodeChunk from \"../components/CodeChunk\"\nimport Spacing from \"../components/Spacing\";\nimport ChartImage from \"../components/ChartImage\";\nimport ChartImageContainer from \"../components/ChartImageContainer\";\nimport volcanoGif from \"../../static/graph/animated_volcano.gif\"\n\nconst chartDescription =\n  \"<p>Python allows to build 3D charts thanks to the <code>mplot3d</code> toolkit of the <code>matplotlib</code> library. However, please note that 3d charts are most often a bad practice. This section focuses on 3d scatter plots and surface plots that are some interesting use cases.\";\n\nconst quickCode = `# libraries\nfrom mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\n# Dataset\ndf=pd.DataFrame({'X': range(1,101), 'Y': np.random.randn(100)*15+range(1,101), 'Z': (np.random.randn(100)*15+range(1,101))*2 })\n\n# plot\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.scatter(df['X'], df['Y'], df['Z'], c='skyblue', s=60)\nax.view_init(30, 185)\nplt.show()\n`\n\nexport default function ThreeD() {\n\n  return (\n\n    <Layout title=\"Three-Dimensional plotting\" isTocEnabled seoDescription=\"A collection of 3d chart examples made with Python, coming with explanation and reproducible code\">\n\n\n      <TitleAndDescription\n        title=\"Three-Dimensional plotting\"\n        description={chartDescription}\n      />\n\n      <Container>\n        <h2 id=\"Quick\">&#9201; Quick start</h2>\n        <Row className=\"align-items-center\">\n          <Col md={6}>\n            <p>The <code>mplot3d</code> toolkit of <code>matplotlib</code> is used here.</p>\n            <ul>\n              <li>The projection parameter of the add_subplot() function is set to <code>3d</code></li>\n              <li>The usual <code>scatter()</code> function can now be called with 3 data inputs for the X, Y and Z axis</li>\n              <li>The camera position can be set thanks to the <code>view_init()</code> function</li>\n            </ul>\n          </Col>\n          <Col md={6}>\n            <Link to={\"/370-3d-scatterplot\"}>\n              <ChartImage imgName=\"370_3D_scatterplot\"\n                caption=\"Basic 3d scatterplot with Python & Matplotlib.\" />\n            </Link>\n          </Col>\n        </Row>\n        <CodeChunk>{quickCode}</CodeChunk>\n        <Link to=\"/341-python-gapminder-animation\">\n          <Button size=\"sm\">See code</Button>\n        </Link>\n      </Container>\n\n      <Spacing />\n\n\n      <div className=\"greySection\">\n        <Container>\n          <h2 id=\"Warning\">&#9888;&#65039; Mind the 3d</h2>\n          <p>Three dimensional objects are very popular but negatively affect\n            the <u>accuracy</u> and <u>speed</u> at which one can interpret a graphic in most cases.</p>\n          <p>In the example below, the brown section in front looks much bigger than the pink section in the back,\n          even tough their real values are 30% vs 35%. Data is distorted.\n          </p>\n          <div style={{ maxWidth: \"350px\", margin: \"0 auto\" }}>\n            <a href=\"https://www.data-to-viz.com/caveat/3d.html\">\n              <ChartImage imgName={'3d_is_bad'} caption={\"An example of a bad 3d pie chart\"} />\n            </a>\n          </div>\n          <a href='https://www.data-to-viz.com/caveat/3d.html'>\n            <Button size=\"sm\">Full article</Button>\n          </a>\n          <br /><br />\n          <p><u>Note</u>: remember pie charts should be avoided <a href='https://www.data-to-viz.com/caveat/pie.html'>most of the time</a></p>\n        </Container>\n      </div>\n\n      <Spacing />\n\n\n      <Container>\n        <h2 id=\"3d scatterplot\"><Matplotlib />Three-dimensional scatterplots with <code>Matplotlib</code></h2>\n        <p>\n          As described in the quick start section above, a three dimensional can be built with python thanks to the\n          <code>mplot3d</code> toolkit of <code>matplotlib</code>. The example below will guide you through its usage\n          to get this figure:\n        </p>\n        <div style={{ maxWidth: \"450px\" }}>\n          <Link to={\"/370-3d-scatterplot\"}>\n            <ChartImage imgName=\"370_3D_scatterplot\"\n              caption=\"Basic 3d scatterplot with Python & Matplotlib.\" />\n          </Link>\n        </div>\n        <p>This technique is useful to visualize the result of a PCA (Principal Component Analysis). The following example explains how to run\n        a PCA with python and check its result with a 3d scatterplot:\n        </p>\n        <div style={{ maxWidth: \"450px\" }}>\n          <Link to=\"/372-3d-pca-result\">\n            <ChartImage imgName={'372_3D_PCA_result'} caption={\"PCA result shown as a 3D scatterplot with python\"} />\n          </Link>\n        </div>\n      </Container>\n\n      <Spacing />\n\n      <Container>\n        <h2 id=\"Surface plot\"><Matplotlib />Surface plot with <code>Matplotlib</code></h2>\n        <p>\n          A surface plot considers the X and Y coordinates as latitude and longitude, and Z as the altitude. It\n          represents the dataset as a surface by interpolating positions between data points.\n        </p>\n        <p>This kind of chart can also be done thanks to the <code>mplot3d</code> toolkit of <code>matplotlib</code>. The\n        posts linked below explain how to use and customize the <code>trisurf()</code> function that is used for surface plots.</p>\n        <Row>\n          <ChartImageContainer\n            imgName=\"371_3D_Surface_plot_volcano_1\"\n            caption=\"Most basic surface plot with Python\"\n            linkTo=\"/371-surface-plot\"\n          />\n          <ChartImageContainer\n            imgName=\"371_3D_Surface_plot_volcano_2\"\n            caption=\"Plotting only one half of the heatmap\"\n            linkTo=\"/371-surface-plot\"\n          />\n          <ChartImageContainer\n            imgName=\"371_3D_Surface_plot_volcano_3\"\n            caption=\"Seaborn heatmap customization: grid\"\n            linkTo=\"/371-surface-plot\"\n          />\n        </Row>\n        <div style={{ maxWidth: \"450px\", margin: \"0 auto\" }}>\n          <Link to={\"/371-surface-plot\"}>\n            <ChartImage imgName=\"371_3D_Surface_plot_volcano_4\"\n              caption=\"Basic 3d scatterplot with Python & Matplotlib.\" />\n          </Link>\n        </div>\n      </Container>\n\n      <Spacing />\n\n      <Container>\n        <h2 id=\"Animated 3d\"><Matplotlib />Three dimensional plot and animation</h2>\n        <p>\n          You can build an animation from a 3d chart by changing the camera position at each iteration of a loop. The example below\n          explains how to do it for a surface plot but visit the animation section for more.\n        </p>\n        <Link to={\"/342-animation-on-3d-plot\"}>\n          <img src={volcanoGif} alt=\"Animated volcano plot with Python\" style={{ maxWidth: \"900px\", width: \"100%\" }} />\n        </Link>\n        <Link to=\"/animation\">\n          <Button size=\"sm\">Animation section</Button>\n        </Link>\n      </Container>\n\n\n      <Spacing />\n\n      <div className=\"greySection\" id=\"related\">\n        <Container>\n          <ChartFamilySection chartFamily=\"general\" />\n        </Container>\n      </div>\n\n      <Spacing />\n\n      <Container>\n        <Contact />\n      </Container>\n\n      <Spacing />\n\n    </Layout >\n  );\n}\n","import React from \"react\";\nimport ChartImage from \"../components/ChartImage\";\nimport Col from \"react-bootstrap/Col\";\nimport { Link } from \"gatsby\";\n\n// This component wraps a chart image into a column and make it responsive + clickable\nexport default function ChartImageContainer({ imgName, caption, linkTo }) {\n  return (\n    <Col xs={12} md={4}>\n      <Link to={linkTo}>\n        <ChartImage imgName={imgName} caption={caption} />\n      </Link>\n    </Col>\n  );\n}\n","import \"./chartImage.css\";\n\nimport React from \"react\";\nimport { useStaticQuery, graphql } from \"gatsby\";\nimport Img from \"gatsby-image\";\n\nconst allGifs = [\"animated_chart\", \"animated_gapminder.gif\", \"animated_volcano.gif\"]\n\n// This component displays a logo representing a chart type of the gallery. Example: bar chart\n// Logo has a different size depending on the window size.\nexport default function ChartImage({ imgName, caption }) {\n\n  if (allGifs.includes(imgName)) {\n    return (\n      <p>TODO</p>)\n  }\n\n  const data = useStaticQuery(graphql`\n    query MyQuery {\n      allFile(filter: { relativeDirectory: { eq: \"graph\" } }) {\n        edges {\n          node {\n            id\n            name\n            childImageSharp {\n              fluid {\n                aspectRatio\n                base64\n                sizes\n                src\n                srcWebp\n                srcSet\n              }\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  const image = data.allFile.edges.find((n) => {\n    return n.node.name.includes(imgName);\n  });\n\n  if (!image) {\n    return null;\n  }\n\n  // Note: alt tag looks to be ignored?\n  return (\n    <>\n      <div className=\"chartImageContainer\">\n        <Img\n          alt={caption}\n          fluid={image.node.childImageSharp.fluid}\n          className=\"chartImageImg\"\n        />\n        <div className=\"chartImageOverlay\">\n          <div className=\"chartImageOverlayText\">\n            <p>{caption}</p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","module.exports = __webpack_public_path__ + \"static/animated_volcano-9b154eaa7e16ebe494011669b12787db.gif\";"],"sourceRoot":""}