{"data":{"jupyterNotebook":{"html":"<div class=\"notebook-render\"><div class=\"sc-ifAKCX zMCZx\"><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><p>You can create a treemap with colors mapped on values by using squarify and matplotlib libraries. In the following example, in order to map colors, <code>matplotlib.colors.Normalize()</code> is used with <code>vmin</code> and <code>vmax</code>, minimum values and maximum values respectively. Each value in my_values list is normalized and then map to a color. </p></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\">#libraries</span>\n<span class=\"token\" style=\"color:#0000ff\">import</span> matplotlib\n<span class=\"token\" style=\"color:#0000ff\">import</span> matplotlib<span class=\"token\" style=\"color:#393A34\">.</span>pyplot <span class=\"token\" style=\"color:#0000ff\">as</span> plt\n<span class=\"token\" style=\"color:#0000ff\">import</span> squarify <span class=\"token\" style=\"color:#008000;font-style:italic\"># pip install squarify (algorithm for treemap)&amp;lt;/pre&amp;gt;</span>\n \n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Create a dataset:</span>\nmy_values<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span>i<span class=\"token\" style=\"color:#393A34\">**</span><span class=\"token\" style=\"color:#36acaa\">3</span> <span class=\"token\" style=\"color:#0000ff\">for</span> i <span class=\"token\" style=\"color:#0000ff\">in</span> <span class=\"token builtin\">range</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">1</span><span class=\"token\" style=\"color:#393A34\">,</span><span class=\"token\" style=\"color:#36acaa\">100</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">]</span>\n \n<span class=\"token\" style=\"color:#008000;font-style:italic\"># create a color palette, mapped to these values</span>\ncmap <span class=\"token\" style=\"color:#393A34\">=</span> matplotlib<span class=\"token\" style=\"color:#393A34\">.</span>cm<span class=\"token\" style=\"color:#393A34\">.</span>Blues\nmini<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">min</span><span class=\"token\" style=\"color:#393A34\">(</span>my_values<span class=\"token\" style=\"color:#393A34\">)</span>\nmaxi<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">max</span><span class=\"token\" style=\"color:#393A34\">(</span>my_values<span class=\"token\" style=\"color:#393A34\">)</span>\nnorm <span class=\"token\" style=\"color:#393A34\">=</span> matplotlib<span class=\"token\" style=\"color:#393A34\">.</span>colors<span class=\"token\" style=\"color:#393A34\">.</span>Normalize<span class=\"token\" style=\"color:#393A34\">(</span>vmin<span class=\"token\" style=\"color:#393A34\">=</span>mini<span class=\"token\" style=\"color:#393A34\">,</span> vmax<span class=\"token\" style=\"color:#393A34\">=</span>maxi<span class=\"token\" style=\"color:#393A34\">)</span>\ncolors <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">[</span>cmap<span class=\"token\" style=\"color:#393A34\">(</span>norm<span class=\"token\" style=\"color:#393A34\">(</span>value<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#0000ff\">for</span> value <span class=\"token\" style=\"color:#0000ff\">in</span> my_values<span class=\"token\" style=\"color:#393A34\">]</span>\n \n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Change color</span>\nsquarify<span class=\"token\" style=\"color:#393A34\">.</span>plot<span class=\"token\" style=\"color:#393A34\">(</span>sizes<span class=\"token\" style=\"color:#393A34\">=</span>my_values<span class=\"token\" style=\"color:#393A34\">,</span> alpha<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">.8</span><span class=\"token\" style=\"color:#393A34\">,</span> color<span class=\"token\" style=\"color:#393A34\">=</span>colors <span class=\"token\" style=\"color:#393A34\">)</span>\nplt<span class=\"token\" style=\"color:#393A34\">.</span>axis<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;off&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span>\nplt<span class=\"token\" style=\"color:#393A34\">.</span>show<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV0AAADnCAYAAAC9roUQAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/d3fzzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFOElEQVR4nO3dzW4bVRiA4Ux+6hZBoYuqFazZseRSuRQugSUSUhddVkKwoCrbliYmMZtWKohm6sbzHjd+nq0t+/M4eXM0sc9Mm83mCIDG8egBAA6J6AKERBcgJLoAIdEFCJ1ed+Or9ebnX1+8WuSJf/rtz0Ue92P9+OTF6BFu7MnT56NHuLE/nv0+eoTlPH82eoLe+cvREwzx1y8/fP++26x0AUKiCxASXYCQ6AKERBcgJLoAIdEFCIkuQEh0AUKiCxASXYCQ6AKERBcgJLoAIdEFCIkuQEh0AUKiCxASXYCQ6AKERBcgJLoAoWsvwX50dHQ0TVMxB8BBsNIFCIkuQEh0AUKiCxASXYCQ6AKERBcgNPs53aXcOdF74PAoH0BIdAFCogsQGnZOd9/cOfP3B1ie0gCERBcgJLoAIdEFCF0b3enIBuYAu2SlCxASXYCQ6AKEZr8ccey0LsDO+EbaLbJaeTth3/ktZa+crFajR1jM5egB2AuiC5WvHo2eoHf+cvQEe8c/0gBCogsQEl2AkOgChEQXICS6ACHRBQiJLkBIdAFCogsQEl2AkOgChIZteHNmo17gAFnpAoREFyAkugCh2XO60+TcK8CuWOkChEQXICS6ACHRBQi5GvAbq9OT0SMAB8BKFyAkugAh0QUIiS5ASHQBQqILEBJdgJDoAoREFyAkugAh0QUIiS5ASHQBQrO7jB3LMsDOSCpASHQBQqILEBJdgJDL9dwiq5W3E/bdsN/SMx+LAA6QpRF75cHDB6NHWM6b13ZxfjF4kNb6fD16hL1iuQkQEl2AkOgChEQXICS6ACHRBQiJLkBIdAFCogsQEl2A0PyVI6apmGO4O6f+/gDLUxqAkOgChEQXICS6ACHRBQiJLkBIdAFCogsQEl2AkOgChEQXICS6ACHRBQiJLkBodmvHpZwd6z1weJQPIDS70j2MLcwBGla6ACHRBQiJLkBIdAFCogsQEl2AkOgChEQXICS6ACHRBQgN2/CG3Xv86PPRI9zY/72G84vLAZM01uvb+9redXGL38NtWekChEQXIOT0whurs5PRIwAHwEoXIDS/n+5kR12AXbHSBQiJLkBIdAFCogsQEl2AkOgChIZ9OeL02EfRgMNjpQsQEl2AkOgChEQXICS6AKFro2uvG4DdstIFCM1+TtfHaQF2x0oXICS6ACHRBQiJLkBIdAFCogsQEl2AkOgChEQXICS6ACHRBQiJLkBo2IUp9813jz8bPcKs88ura2//9uHdaJIP83q9GT3C1i5mjvE+e/33p3e83/V6/eke+23MRneyqS7Azji9ABASXYDQsHO6Z8d6Dxwe5QMIiS5ASHQBQqILEBJdgJDoAoREFyAkugAh0QUIfcCGN8UYAIfBShcgJLoAIdEFCIkuQEh0AUKiCxASXYCQ6AKERBcgJLoAIdEFCIkuQGh2w5tjG94A7MxsdJfyzZf3Fn38zWa7+399/+Pmubra8olu6HLbF3ZD8dP9S31s31Uf5/e5HHgM/mu9R7O8dbm5Gj3C1pxeAAiJLkBIdAFCogsQEl2AkOgChEQXICS6ACHRBQjNfiNtmnwPGGBXrHQBQqILEBJdgJDoAoREFyAkugAh0QUIiS5ASHQBQqILEJr9GvD9ezN32fJadW/v/sXd7a6JuavrBG62GXjh6/B97MPf9FhsdQwWmmFJS822i+N27eMHx7R+2zaDflD2+efTShcgJLoAIdEFCIkuQEh0AUKiCxCaRn2kA+AQWekChEQXICS6ACHRBQiJLkBIdAFC/wCZAXUChIS1hAAAAABJRU5ErkJggg==\n\" class=\"sc-bdVaJa jFcqvn\"/></div></div></div></div></div>","metadata":{"title":"Treemap with colors mapped on values","description":"This post aims to show how to map colors on values in a treemap.","seoDescription":"Mapping colors on values in a treemap build with squarify library of python","family":"partOfAWhole","chartType":"treemap","keywords":"python, chart, plot, treemap, squarify","slug":"202-treemap-with-colors-mapped-on-values"}}},"pageContext":{"slug":"202-treemap-with-colors-mapped-on-values"}}